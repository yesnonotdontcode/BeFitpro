var wr=Object.defineProperty,_r=Object.defineProperties;var fr=Object.getOwnPropertyDescriptors;var ee=Object.getOwnPropertySymbols;var ue=Object.prototype.hasOwnProperty,de=Object.prototype.propertyIsEnumerable;var Ee=(r,t,s)=>t in r?wr(r,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[t]=s,p=(r,t)=>{for(var s in t||(t={}))ue.call(t,s)&&Ee(r,s,t[s]);if(ee)for(var s of ee(t))de.call(t,s)&&Ee(r,s,t[s]);return r},T=(r,t)=>_r(r,fr(t));var y=(r,t)=>{var s={};for(var a in r)ue.call(r,a)&&t.indexOf(a)<0&&(s[a]=r[a]);if(r!=null&&ee)for(var a of ee(r))t.indexOf(a)<0&&de.call(r,a)&&(s[a]=r[a]);return s};import{r as h,R as e,u as O,L as re,c as N,B as Rr,H as F,T as P,a as pe,S as he,h as gr,w as Ir,b as Ar,d as Sr,e as K,i as G,f as g,I as A,C as j,g as ie,j as Pr,k as Tr,l as yr,p as Dr,m as we,n as v,o as Nr,q as vr,s as br,t as Cr}from"./vendor.408969fd.js";const Lr=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function s(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerpolicy&&(o.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?o.credentials="include":n.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(n){if(n.ep)return;n.ep=!0;const o=s(n);fetch(n.href,o)}};Lr();const Or="modulepreload",_e={},Fr="/",kr=function(t,s){return!s||s.length===0?t():Promise.all(s.map(a=>{if(a=`${Fr}${a}`,a in _e)return;_e[a]=!0;const n=a.endsWith(".css"),o=n?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${o}`))return;const i=document.createElement("link");if(i.rel=n?"stylesheet":Or,n||(i.as="script",i.crossOrigin=""),i.href=a,document.head.appendChild(i),n)return new Promise((l,d)=>{i.addEventListener("load",l),i.addEventListener("error",d)})})).then(()=>t())};const Ur={currentEmailIs:"Your current email is:",currentEmailLabel:"Current email",errors:{default:"There was a problem. Please ensure your password is correct.",emailInvalid:"Enter a valid email",newEmailExists:"Email already exists",newEmailInvalid:"Enter a valid email",passwordRequired:"Enter your password"},instructions:"Enter a new email and password below. A verification email will be sent to that address.",newEmailLabel:"New email",passwordLabel:"Password",submitButton:"Change Email"},Mr={success:"The email address for your CrossFit account has successfully been changed!",title:"Change email address"},xr={confirmPasswordLabel:"Confirm new password",errors:{confirmationMatch:"Please ensure the passwords match.",default:"There was a problem changing your password. Please ensure your password and password confirmation are correct.",expiredToken:"The token is expired.",invalidToken:"The token is invalid.",tooWeak:"Too Weak",weakPassword:"Password is weak and too common. Please change to a stronger password phrase."},newPasswordLabel:"New password",passwordValid:"Password must be a minimum of 8 characters.",submitButton:"Change Password",title:"Change Password"},Wr={failure:"This verification link is no longer valid. Please visit your profile page to request a new email address verification link.",failureTitle:"Uh-oh!",profileLink:"Profile",success:"Thank you for verifying your email address. Now you can enjoy all of the CrossFit community, workouts, content, and much more!",title:"Confirm email address"},Vr={alreadyHaveAccount:"Already have an account?",confirmPasswordLabel:"Confirm password",dateOfBirthLabel:"Date of Birth",emailLabel:"Email",errors:{agreePrivacyRequired:"You must agree to the Privacy Policy",agreeTermsRequired:"You must agree to the Terms and Conditions",confirmPasswordRequired:"Password confirmation is required",dateOfBirthRequired:"Enter a date of birth",dateOfBirthUnderThirteen:"Athlete must be 13 years or older",default:"There was a problem creating your account. Please ensure all fields are correct.",emailInvalid:"Enter a valid email",firstNameRequired:"Enter a first name",lastNameRequired:"Enter a last name",passwordRequired:"Password is required",passwordInvalid:"Password is invalid",tooWeak:"Too Weak",userExists:"That user already exists",weakPassword:"Password is weak and too common. Please change to a stronger password phrase.",passwordSmall:"Password must be more than 7 characters",passwordsDoNotMatch:"Your passwords don't match"},firstNameLabel:"First Name",lastNameLabel:"Last Name",loginLink:"Log In",passwordLabel:"Password",submitButton:"Create Account",title:"Create Account"},$r={emailLabel:"Email",errors:{default:"There was a problem resetting your password. Please ensure your email is correct.",emailInvalid:"Enter a valid email"},instructions:"Enter the email address associated with your CrossFit account.",sent:"You should receive an email shortly with a link to update your password.",submitButton:"Reset Password",success:"The password for your CrossFit account has successfully been changed!",title:"Forgot Password"},qr={createAccountLink:"Create an Account",emailLabel:"Email",errors:{default:"There was a problem logging into your account. Please ensure your email and password are correct.",emailInvalid:"Enter a valid email",passwordRequired:"Password is required",integration:"Oops! There was an error from the place you came from. Please go back and try again."},forgotPasswordLink:"Forgot your password?",keepLoggedIn:"Keep me logged in.",newToCrossfit:"New to CrossFit?",passwordLabel:"Password",submitButton:"Log in",title:"Log in"},Yr={agreeButton:"I AGREE",agreement:`<p>CrossFit, LLC (&#8220;CrossFit,&#8221; &#8220;we&#8221;, &#8220;us&#8221;, or &#8220;our&#8221;) is responsible for this website and is the controller of data provided to us through it. We respect your privacy and aim to protect it along with your personal data. We currently operate the website CrossFit.com, including all of its subsites (typically any web pages that include crossfit.com as the URL, such as games.crossfit.com and journal.crossfit.com) and all software, applications, products, features and services made available, displayed or offered by or through our website or subsites (collectively, the &#8220;Sites&#8221;). This Privacy Policy is incorporated into, and part of, the Terms of Use (the &#8220;Terms of Use&#8221;), which governs your use of these Sites in general.<strong>1. Who We Are</strong></p>
`,title:"CrossFit, LLC Privacy Policy",error:"Our privacy policy has changed, please agree to the updated version.",versionNumber:"1.0"},Br="auth-en-us",Gr={homeLink:"Home",title:"Success!"},Qr={agreeButton:"I AGREE",agreement:`<p>CrossFit, LLC (&#8220;CrossFit,&#8221; &#8220;we&#8221;, &#8220;us&#8221;, or &#8220;our&#8221;) is responsible for this website and is the controller of data provided to us through it. We respect your privacy and aim to protect it along with your personal data. We currently operate the website CrossFit.com, including all of its subsites (typically any web pages that include crossfit.com as the URL, such as games.crossfit.com and journal.crossfit.com) and all software, applications, products, features and services made available, displayed or offered by or through our website or subsites (collectively, the &#8220;Sites&#8221;). This Privacy Policy is incorporated into, and part of, the Terms of Use (the &#8220;Terms of Use&#8221;), which governs your use of these Sites in general.<strong>1. Who We Are</strong></p>
`,title:"CrossFit, LLC Terms and Conditions",error:"Our terms and conditions have changed, please agree to the updated version.",versionNumber:"1.0"};var fe={changeEmailForm:Ur,changeEmailPage:Mr,changePasswordForm:xr,confirmEmailPage:Wr,createAccountForm:Vr,forgotPasswordForm:$r,loginForm:qr,privacyPolicy:Yr,slug:Br,successPage:Gr,termsAndConditions:Qr};const Re=h.exports.createContext(fe);function Hr({children:r}){const[t,s]=h.exports.useState(fe);return h.exports.useEffect(()=>{fetch("/en.json").then(a=>{if(a.ok)return a.json()}).then(a=>{a&&s(a)})},[]),e.createElement(Re.Provider,{value:t},r)}var Kr="/1.3.4/logo.8ac547bd.svg";const jr="_wrapper_s63iv_1",zr="_title_s63iv_6";var ge={wrapper:jr,title:zr};function Xr(){const r=O();return e.createElement("header",{className:ge.wrapper},e.createElement("h1",{className:ge.title},e.createElement(re,{to:{pathname:"/",search:r.search}},e.createElement("img",{src:Kr,alt:"CrossFit"}))))}function R(r){const t=h.exports.useContext(Re);return h.exports.useMemo(()=>t[r],[r,t])}function k(r){h.exports.useEffect(()=>{document.title=r},[r])}const Jr="_wrapper_6a51l_1";var Zr={wrapper:Jr};function U(s){var a=s,{className:r}=a,t=y(a,["className"]);return e.createElement("main",p({className:N(Zr.wrapper,r)},t))}const et="_wrapper_1qfix_1",rt="_icon_1qfix_5",tt="_primary-button_1qfix_9";var Ie={wrapper:et,icon:rt,primaryButton:tt};const te={getItem:r=>window.sessionStorage.getItem(r),setItem:(r,t)=>window.sessionStorage.setItem(r,t),removeItem:r=>window.sessionStorage.removeItem(r)};function Ae({key:r,value:t}){return h.exports.useEffect(()=>{t&&r&&te.setItem(r,t)},[t]),t}function Se({key:r}){if(r)return te.getItem(r)}const ae="cfReturnTo";function Pe(r){return Ae({key:ae,value:r}),at()}function at(){return Se({key:ae})}function st(r=3e3){const t=te.getItem(ae),[s,a]=h.exports.useState();return h.exports.useEffect(()=>{const n=setTimeout(()=>{t&&(window.location.replace(t),te.removeItem(ae))},r);return a(s),()=>clearTimeout(n)},[t,r]),{cancelAutomaticRedirect:()=>s&&clearTimeout(s),returnTo:t}}const nt="_wrapper_3ftc2_1";var ot={wrapper:nt};function M(s){var a=s,{className:r}=a,t=y(a,["className"]);return e.createElement(Rr,T(p({size:"large"},t),{className:N(ot.wrapper,r)}))}const q=()=>new URLSearchParams(O().search),ce="mobile-app-client",it="1";function ct(){return Se({key:ce})===it}function Te(){const t=q().get(ce)||void 0;return Ae({key:ce,value:t}),t}const lt="https://www.crossfit.com";function z({children:r}){const t=R("successPage");k(`${t.title} - CrossFit`);const s=ct(),{cancelAutomaticRedirect:a,returnTo:n}=st();return e.createElement(U,{className:Ie.wrapper},e.createElement(F,{size:"large",mb:6,as:"h2"},t.title),r,!s&&e.createElement(M,{className:Ie.primaryButton,onClick:a,as:"a",href:n||lt},t.homeLink))}function mt(){const{success:r}=R("forgotPasswordForm");return e.createElement(z,null,e.createElement(P,null,r))}function ut(){const{sent:r}=R("forgotPasswordForm");return e.createElement(z,null,e.createElement(P,null,r))}function Q({onSubmit:r,children:t,isLoading:s}){return s?e.createElement(pe,{"data-testid":"loader"}):e.createElement(he,{as:"form",direction:"vertical",onSubmit:r,noValidate:!0},t)}const dt="_wrapper_4n4mb_1";var Et={wrapper:dt};const _=a=>{var n=a,{className:r,direction:t="vertical"}=n,s=y(n,["className","direction"]);return e.createElement(he,T(p({},s),{direction:t,className:N(Et.wrapper,r)}))},pt="_field-text_1lvik_1",ht="_field-error-text_1lvik_6",wt="_error-text_1lvik_7",_t="_bottom-text_1lvik_17";var se={fieldText:pt,fieldErrorText:ht,errorText:wt,bottomText:_t};function C(s){var a=s,{className:r}=a,t=y(a,["className"]);return e.createElement(P,p({className:N(se.errorText,r)},t))}function ft(s){var a=s,{className:r}=a,t=y(a,["className"]);return e.createElement(P,p({className:N(se.fieldText,r)},t))}function m(s){var a=s,{className:r}=a,t=y(a,["className"]);return e.createElement(P,p({className:N(se.fieldErrorText,r)},t))}function ye(s){var a=s,{className:r}=a,t=y(a,["className"]);return e.createElement(P,p({className:N(se.bottomText,r)},t))}function X(a){var n=a,{recaptchaAction:r,onSubmit:t}=n,s=y(n,["recaptchaAction","onSubmit"]);const{executeRecaptcha:o}=gr(),i=async l=>{const d=o&&await o(r);return t(l,d)};return De(T(p({},s),{onSubmit:i}))}function De({initialValues:r,onSubmit:t}){const[s,a]=h.exports.useState(!1),[n,o]=h.exports.useState({}),[i,l]=h.exports.useReducer((I,D)=>{switch(D.type){case"CHANGE":return T(p({},I),{[D.payload.name]:D.payload.value});default:return I}},r);async function d(){a(!0);try{await t(i)}catch(I){Array.isArray(I)&&o(I.reduce((D,W)=>(D[W]=!0,D),{})),a(!1)}}async function f(I){I.preventDefault(),d()}function c(I){const{name:D,value:W}=I.currentTarget;w({name:D,value:W})}function w(I){l({type:"CHANGE",payload:I})}function u(I){const{name:D,checked:W}=I.currentTarget;w({name:D,value:W})}const b=h.exports.useMemo(()=>Object.keys(n).some(I=>n[I]),[n]);function x(I){o(D=>{const W=p({},D);return delete W[I],W})}return{values:i,onSubmit:f,submit:d,onChangeInput:c,onChangeField:w,onChangeCheckbox:u,isLoading:s,errors:n,hasErrors:b,clearError:x}}function Rt({error:r,context:t}){console.error("error",r,t),Ir(function(s){t&&s.setExtra("context",t),Ar(r)})}async function V(r,t){const s={Origin:location.origin,"Content-Type":"application/json"},a=await fetch(r,{method:"POST",headers:s,body:JSON.stringify(t),credentials:"include"}),n=await a.json().catch(()=>null);if(a.ok)return Sr.exports.camelizeKeys(n);throw a.status===500&&Rt({error:new Error(`${a.status} error on POST to ${a.url}`),context:a}),{data:n,status:a.status}}const gt="https://c3po.crossfit.com/api/users/v2";async function It(r){const{email:t,recaptchaToken:s}=r;return V(`${gt}/auth/password_forgot`,{email:t,recaptcha_token:s})}const ne=({component:r,event:t,location:s,title:a,additionalData:n})=>{try{analytics.track(`${r} ${t}`,{component:r,location:s,url:window.location.href,title:a,additionalData:n})}catch{}},At="default",St="emailInvalid";function Pt(){const r=K(),t=O();return X({initialValues:{email:""},recaptchaAction:"password_forgot",onSubmit:async(s,a)=>{if(!G(s.email))throw[St];ne({component:"Forgot Password Form",event:"Reset Password Button Clicked",location:window.location.href,title:"SSO Frontend"});try{await It(T(p({},s),{recaptchaToken:a})),r.push({pathname:"/forgot-password/sent",search:t.search})}catch{throw[At]}}})}const Tt="_instructions_45sxg_1",yt="_checkbox-field-group_45sxg_5";var Dt={instructions:Tt,checkboxFieldGroup:yt};function Nt(){const r=R("forgotPasswordForm"),{values:t,onChangeInput:s,onSubmit:a,isLoading:n,errors:o}=Pt();return e.createElement(e.Fragment,null,e.createElement(P,{className:Dt.instructions},r.instructions),e.createElement(Q,{onSubmit:i=>a(i),isLoading:n},o.default&&e.createElement(C,null,r.errors.default),e.createElement(_,null,e.createElement(g,{htmlFor:"email",mb:2},r.emailLabel),e.createElement(A,{id:"email",type:"text",name:"email",value:t.email,onChange:s,isInvalid:o.emailInvalid,autoComplete:"email"}),o.emailInvalid&&e.createElement(m,null,r.errors.emailInvalid)),e.createElement(M,{type:"submit"},r.submitButton)))}var vt="/1.3.4/sad-icon.de5ae708.svg";const bt="_text_50gtr_1";var Ct={text:bt};function Ne({children:r}){return e.createElement(e.Fragment,null,e.createElement(P,{className:Ct.text},r),e.createElement("img",{src:vt,alt:"","aria-hidden":!0}))}const Lt="https://c3po.crossfit.com/api/users/v2",ve="RESET_PASSWORD_TOKEN_INVALID",be="RESET_PASSWORD_TOKEN_EXPIRED",Ce="PASSWORD_SMALL",Le="PASSWORD_WEAK";async function Ot(r){const{password:t,resetPasswordToken:s,clearSession:a}=r;return V(`${Lt}/auth/password_reset`,{password:t,reset_password_token:s,clear_session:a}).catch(n=>{throw[Le,ve,be,Ce].includes(n.data.error)?{name:n.data.error}:{name:"DefaultError"}})}const Y={DEFAULT_ERROR:"default",WEAK_PASSWORD:"weakPassword",PASSWORD_INVALID:"passwordInvalid",CONFIRMATION_MATCH:"confirmationMatch",INVALID_TOKEN:"invalidToken",EXPIRED_TOKEN:"expiredToken"};function Ft(r){const t=K();return De({initialValues:{password:"",confirmPassword:"",resetPasswordToken:r,clearSession:!1},onSubmit:async s=>{const a=[];if(s.password.length<8&&a.push(Y.PASSWORD_INVALID),s.password!==s.confirmPassword&&a.push(Y.CONFIRMATION_MATCH),a.length)throw a;ne({component:"Reset Password Form",event:"Change Password Button Clicked",location:window.location.href,title:"SSO Frontend"});try{await Ot(s),t.push({pathname:"/forgot-password/success"})}catch(n){throw n.name===Le?[Y.WEAK_PASSWORD]:n.name===Ce?[Y.PASSWORD_INVALID]:n.name===be?[Y.EXPIRED_TOKEN]:n.name===ve?[Y.INVALID_TOKEN]:[Y.DEFAULT_ERROR]}}})}const kt="_label-wrapper_1soip_1",Ut="_checkbox-field-group_1soip_5";var Oe={labelWrapper:kt,checkboxFieldGroup:Ut};const Mt="_wrapper_1hba5_1";var xt={wrapper:Mt};const J=s=>{var a=s,{className:r}=a,t=y(a,["className"]);return e.createElement(g,T(p({},t),{className:N(xt.wrapper,r)}))};function Wt({token:r}){const t=R("changePasswordForm"),{values:s,onChangeInput:a,onChangeCheckbox:n,onSubmit:o,isLoading:i,errors:l}=Ft(r);return e.createElement(Q,{onSubmit:o,isLoading:i},l.default&&e.createElement(C,null,t.errors.default),l.invalidToken&&e.createElement(C,null,t.errors.invalidToken),l.expiredToken&&e.createElement(C,null,t.errors.expiredToken),e.createElement(_,null,e.createElement("div",{className:Oe.labelWrapper},e.createElement(g,{htmlFor:"password",mb:2},t.newPasswordLabel),l.weakPassword&&e.createElement(Ne,null,t.errors.tooWeak)),e.createElement(A,{id:"password",name:"password",onChange:a,value:s.password,type:"password",isInvalid:l.weakPassword||l.passwordInvalid,autoComplete:"new-password",required:!0}),l.weakPassword&&e.createElement(m,null,t.errors.weakPassword),l.passwordInvalid?e.createElement(m,null,t.passwordValid):e.createElement(ft,null,t.passwordValid)),e.createElement(_,null,e.createElement(g,{htmlFor:"confirmPassword",mb:2},t.confirmPasswordLabel),e.createElement(A,{id:"confirmPassword",name:"confirmPassword",onChange:a,value:s.confirmPassword,type:"password",isInvalid:l.confirmationMatch,autoComplete:"new-password",required:!0}),l.confirmationMatch&&e.createElement(m,null,t.errors.confirmationMatch)),e.createElement(_,{direction:"horizontal",spacing:2,className:Oe.checkboxFieldGroup},e.createElement(j,{id:"clearSession",name:"clearSession",onChange:n,checked:s.clearSession}),e.createElement(J,{htmlFor:"clearSession"},"Require all devices to sign in again with new password.")),e.createElement(M,{type:"submit"},t.submitButton))}function Vt(){const{title:r}=R("changePasswordForm"),{title:t}=R("forgotPasswordForm"),a=q().get("token"),n=a?r:t;return k(`${n} - CrossFit`),e.createElement(U,null,e.createElement(F,{size:"large",mb:6,as:"h2"},n),a?e.createElement(Wt,{token:a}):e.createElement(Nt,null))}function $t(){return e.createElement(z,null,e.createElement(P,null,"The password for your CrossFit account has successfully been changed!"))}const qt="https://c3po.crossfit.com/api/users/v2",Fe="CREDENTIALS_INVALID",ke="PASSWORD_SMALL",Ue="PASSWORD_WEAK";async function Yt(r){const{password:t,newPassword:s,email:a,recaptchaToken:n,clearSession:o=!1}=r;return V(`${qt}/auth/password_change`,{password:t,new_password:s,email:a,recaptcha_token:n,clear_session:o}).catch(i=>{throw[Fe,Ue,ke].includes(i.data.error)?{name:i.data.error}:{name:"DefaultError"}})}const L={DEFAULT_ERROR:"defaut",PASSWORD_REQUIRED:"passwordRequired",EMAIL_INVALID:"emailInvalid",NEW_PASSWORD_INVALID:"newPasswordInvalid",PASSWORDS_DO_NOT_MATCH:"passwordsDoNotMatch",PASSWORD_INCORRECT:"passwordIncorrect",PASSWORD_LENGTH:"passwordLength",PASSWORD_WEAK:"passwordWeak",PASSWORD_DUPLICATE:"passwordDuplicate"},Bt=8;function Gt({email:r=""}){const t=K();return X({initialValues:{email:r,password:"",newPassword:"",confirmNewPassword:"",clearSession:!1},recaptchaAction:"email_change",onSubmit:async(s,a)=>{const n=[];if(G(s.email)||n.push(L.EMAIL_INVALID),s.password||n.push(L.PASSWORD_REQUIRED),s.newPassword||n.push(L.NEW_PASSWORD_INVALID),s.password===s.newPassword&&n.push(L.PASSWORD_DUPLICATE),s.newPassword&&s.newPassword.length<Bt&&n.push(L.PASSWORD_LENGTH),(!s.confirmNewPassword||s.confirmNewPassword!==s.newPassword)&&n.push(L.PASSWORDS_DO_NOT_MATCH),n.length)throw n;const l=s,{confirmNewPassword:o}=l,i=y(l,["confirmNewPassword"]);try{await Yt(T(p({},i),{recaptchaToken:a})),t.push({pathname:"/change-password/success"})}catch(d){throw d.name===ke?[L.NEW_PASSWORD_INVALID]:d.name===Ue?[L.PASSWORD_WEAK]:d.name===Fe?[L.PASSWORD_INCORRECT]:[L.DEFAULT_ERROR]}}})}const Qt="_text_rh5w5_1",Ht="_checkbox-field-group_rh5w5_9";var Me={text:Qt,checkboxFieldGroup:Ht};const S={currentEmailIs:"Current email is: ",currentEmailLabel:"Current Email",newPasswordLabel:"New Password",confirmNewPasswordLabel:"Confirm New Password",currentPasswordLabel:"Current Password",changePasswordLink:"Change Password",clearSession:"Require all devices to sign in again with new password.",errors:{default:"There was a problem changing your password. Please ensure your password and password confirmation are correct.",invalidEmail:"Enter a valid email",invalidPassword:"That password was invalid.",passwordWeak:"Password is weak and too common. Please change to a stronger password phrase.",passwordsDoNotMatch:"The passwords don't match.",passwordRequired:"That password is required.",passwordLength:"Password must be at least 8 characters.",passwordDuplicate:"New password must be different than current password"}};function Kt({email:r}){const{values:t,onChangeInput:s,onSubmit:a,isLoading:n,errors:o,onChangeCheckbox:i}=Gt({email:r});return e.createElement(Q,{onSubmit:a,isLoading:n},r?e.createElement(P,{className:Me.text},S.currentEmailIs," ",e.createElement("strong",null,r)):e.createElement(_,null,e.createElement(g,{htmlFor:"email",mb:2},S.currentEmailLabel),e.createElement(A,{id:"email",type:"email",name:"email",onChange:s,value:t.email,autoComplete:"email",isInvalid:o.emailInvalid}),o.emailInvalid&&e.createElement(m,null,S.errors.invalidEmail)),o.defaut&&e.createElement(C,null,S.errors.default),e.createElement(_,null,e.createElement(g,{htmlFor:"password",mb:2},S.currentPasswordLabel),e.createElement(A,{id:"password",name:"password",onChange:s,value:t.password,type:"password",autoComplete:"current-password",isInvalid:o.passwordRequired||o.passwordIncorrect}),o.passwordRequired&&e.createElement(m,null,S.errors.passwordRequired),o.passwordIncorrect&&e.createElement(m,null,S.errors.invalidPassword)),e.createElement(_,null,e.createElement(g,{htmlFor:"newPassword",mb:2},S.newPasswordLabel),e.createElement(A,{id:"newPassword",type:"password",name:"newPassword",onChange:s,value:t.newPassword,autoComplete:"new-password",isInvalid:o.newPasswordInvalid||o.passwordLength||o.passwordWeak||o.passwordDuplicate}),o.newPasswordInvalid&&e.createElement(m,null,S.errors.invalidPassword),o.passwordLength&&e.createElement(m,null,S.errors.passwordLength),o.passwordWeak&&e.createElement(m,null,S.errors.passwordWeak),o.passwordDuplicate&&e.createElement(m,null,S.errors.passwordDuplicate)),e.createElement(_,null,e.createElement(g,{htmlFor:"confirmNewPassword",mb:2},S.confirmNewPasswordLabel),e.createElement(A,{id:"confirmNewPassword",type:"password",name:"confirmNewPassword",onChange:s,value:t.confirmNewPassword,autoComplete:"new-password",isInvalid:o.passwordsDoNotMatch}),o.passwordsDoNotMatch&&e.createElement(m,null,S.errors.passwordsDoNotMatch)),e.createElement(_,{direction:"horizontal",spacing:2,className:Me.checkboxFieldGroup},e.createElement(j,{id:"clearSession",name:"clearSession",onChange:i,checked:t.clearSession}),e.createElement(J,{htmlFor:"clearSession"},S.clearSession)),e.createElement(M,{type:"submit"},S.changePasswordLink))}function jt(){const r=q(),t=r.get("email")||void 0,s=r.get("return_to")||void 0;return k("Change Password - CrossFit"),Pe(s),Te(),e.createElement(U,null,e.createElement(F,{size:"large",mb:6,as:"h2"},"Change Password"),e.createElement(Kt,{email:t}))}const zt="_wrapper_yvdv8_1";var Xt={wrapper:zt};function Z(a){var n=a,{as:r="a",className:t}=n,s=y(n,["as","className"]);const o=r;return e.createElement(o,p({className:N(Xt.wrapper,t)},s))}const Jt="_wrapper_1xiec_1",Zt="_select_1xiec_5",ea="_has-error_1xiec_9";var B={wrapper:Jt,select:Zt,hasError:ea};function xe(r){return r<10?`0${r}`:`${r}`}const ra=["January","February","March","April","May","June","July","August","September","October","November","December"],ta=13,aa=31;function sa({id:r,onChange:t,value:s,required:a,hasError:n}){const[o,i]=h.exports.useState(()=>{const[c,w,u]=s?s.split("-"):"";return{month:w,day:u,year:c}});function l(c){const{name:w,value:u}=c.currentTarget;i(b=>T(p({},b),{[w]:u}))}h.exports.useEffect(()=>{const{month:c,day:w,year:u}=o;u&&c&&w&&t({name:"birthday",value:`${u}-${c}-${w}`})},[o]);const d=h.exports.useMemo(()=>{const{year:c="2000",month:w="0"}=o;let u=new Date(parseInt(c),parseInt(w),0).getDate();isNaN(u)&&(u=aa);const b=[];for(let x=1;x<=u;x++)b.push(x);return b},[o]),f=h.exports.useMemo(()=>{const c=new Date().getFullYear()-ta,w=[];for(let u=c;u>c-86;u--)w.push(u);return w},[]);return e.createElement("div",{className:B.wrapper},e.createElement(ie,{className:N(B.select,{[B.hasError]:n}),id:r,name:"month",onChange:l,value:o.month,autoComplete:"bday-month","aria-label":"Date of Birth Month",required:a},e.createElement("option",{value:""},"Month"),ra.map((c,w)=>e.createElement("option",{value:xe(w+1),key:`month-${c}`},c))),e.createElement(ie,{className:N(B.select,{[B.hasError]:n}),id:"birthdayDay",name:"day",onChange:l,value:o.day,autoComplete:"bday-day","aria-label":"Date of Birth Day",required:a},e.createElement("option",{value:""},"Day"),d.map(c=>e.createElement("option",{value:xe(c),key:`day-${c}`},c))),e.createElement(ie,{className:N(B.select,{[B.hasError]:n}),id:"birthdayYear",name:"year",onChange:l,value:o.year,autoComplete:"bday-year","aria-label":"Date of Birth Year",required:a},e.createElement("option",{value:""},"Year"),f.map(c=>e.createElement("option",{value:c,key:`year-${c}`},c))))}const na="_label-wrapper_g27o8_1",oa="_checkbox-field-group_g27o8_5";var le={labelWrapper:na,checkboxFieldGroup:oa};function ia({onShowPrivacyPolicy:r,onShowTermsAndConditions:t,form:s}){const a=R("createAccountForm"),{values:n,onChangeField:o,onChangeInput:i,onChangeCheckbox:l,onSubmit:d,isLoading:f,errors:c}=s;return e.createElement(Q,{onSubmit:d,isLoading:f},c.defaut&&e.createElement(C,null,a.errors.default),c.userExists&&e.createElement(C,null,a.errors.userExists),e.createElement(_,null,e.createElement(g,{htmlFor:"firstName",mb:2},a.firstNameLabel),e.createElement(A,{id:"firstName",type:"text",name:"firstName",onChange:i,value:n.firstName,isInvalid:c.firstNameRequired,autoComplete:"given-name"}),c.firstNameRequired&&e.createElement(m,null,a.errors.firstNameRequired)),e.createElement(_,null,e.createElement(g,{htmlFor:"lastName",mb:2},a.lastNameLabel),e.createElement(A,{id:"lastName",type:"text",name:"lastName",onChange:i,value:n.lastName,isInvalid:c.lastNameRequired,autoComplete:"family-name"}),c.lastNameRequired&&e.createElement(m,null,a.errors.lastNameRequired)),e.createElement(_,null,e.createElement(g,{as:"legend",mb:2},a.dateOfBirthLabel),e.createElement(sa,{id:"birthday",name:"birthday",onChange:o,value:n.birthday,hasError:c.dateOfBirthRequired||c.dateOfBirthUnderThirteen}),c.dateOfBirthRequired&&e.createElement(m,null,a.errors.dateOfBirthRequired),c.dateOfBirthUnderThirteen&&e.createElement(m,null,a.errors.dateOfBirthUnderThirteen)),e.createElement(_,null,e.createElement(g,{htmlFor:"email",mb:2},a.emailLabel),e.createElement(A,{id:"email",type:"email",name:"email",onChange:i,value:n.email,isInvalid:c.emailInvalid,autoComplete:"email"}),c.emailInvalid&&e.createElement(m,null,a.errors.emailInvalid)),e.createElement(_,null,e.createElement("div",{className:le.labelWrapper},e.createElement(g,{htmlFor:"password",mb:2},a.passwordLabel),c.weakPassword&&e.createElement(Ne,null,a.errors.tooWeak)),e.createElement(A,{id:"password",name:"password",onChange:i,value:n.password,type:"password",isInvalid:c.weakPassword||c.passwordRequired||c.passwordSmall,autoComplete:"new-password"}),c.passwordRequired&&e.createElement(m,null,a.errors.passwordRequired),c.weakPassword&&e.createElement(m,null,a.errors.weakPassword),c.passwordInvalid&&e.createElement(m,null,a.errors.passwordInvalid),c.passwordSmall&&e.createElement(m,null,a.errors.passwordSmall)),e.createElement(_,null,e.createElement(g,{htmlFor:"confirmPassword",mb:2},a.confirmPasswordLabel),e.createElement(A,{id:"confirmPassword",name:"confirmPassword",onChange:i,value:n.confirmPassword,type:"password",isInvalid:c.confirmPasswordRequired,autoComplete:"new-password"}),c.confirmPasswordRequired&&e.createElement(m,null,a.errors.confirmPasswordRequired),c.passwordsDoNotMatch&&e.createElement(m,null,a.errors.passwordsDoNotMatch)),e.createElement(_,{direction:"horizontal",spacing:2,className:le.checkboxFieldGroup},e.createElement(j,{id:"agreeTerms",name:"agreeTerms",onChange:l,checked:n.agreeTerms}),e.createElement(J,{htmlFor:"agreeTerms"},"I have read and agree to CrossFit\u2019s"," ",e.createElement(Z,{onClick:t},"Terms & Conditions"),c.agreeTermsRequired&&e.createElement(m,null,a.errors.agreeTermsRequired))),e.createElement(_,{direction:"horizontal",spacing:2,className:le.checkboxFieldGroup},e.createElement(j,{id:"agreePrivacy",name:"agreePrivacy",onChange:l,checked:n.agreePrivacy}),e.createElement(J,{htmlFor:"agreePrivacy"},"I have read and agree to CrossFit\u2019s"," ",e.createElement(Z,{onClick:r},"Privacy Policy"),c.agreePrivacyRequired&&e.createElement(m,null,a.errors.agreePrivacyRequired))),e.createElement(M,{type:"submit"},a.submitButton))}const ca="https://c3po.crossfit.com/api/users/v2",la="COUNTRY_AND_LANGUAGE_REQUIRED",ma="COUNTRY_REQUIRED",ua="LANGUAGE_REQUIRED",We="AGREE_TERMS_AND_PRIVACY_REQUIRED",Ve="AGREE_TERMS_REQUIRED",$e="AGREE_PRIVACY_REQUIRED",da="TERMS_AND_PRIVACY_VERSION_REQUIRED",Ea="TERMS_VERSION_REQUIRED",pa="PRIVACY_VERSION_REQUIRED",qe="FIRST_NAME_EMPTY",Ye="FIRST_NAME_INVALID",Be="LAST_NAME_EMPTY",Ge="LAST_NAME_INVALID",Qe="EMAIL_EMPTY",He="EMAIL_INVALID",Ke="PASSWORD_EMPTY",je="PASSWORD_INVALID",ze="PASSWORD_WEAK",ha="PASSWORD_SMALL",Xe="BIRTHDAY_EMPTY",Je="BIRTHDAY_INVALID",Ze="USER_EXISTS";async function wa(r,t){const{agreePrivacy:s,agreeTerms:a,birthday:n,country:o,email:i,firstName:l,language:d,lastName:f,password:c,privacyVersion:w,termsVersion:u,recaptchaToken:b}=r;return V(`${ca}/auth/register${t}`,{agree_privacy:s,agree_terms:a,birthday:n,country:o,email:i,first:l,language:d,last:f,password:c,privacy_version:parseFloat(w),recaptcha_token:b,terms_version:parseFloat(u)}).catch(x=>{throw[la,ma,ua,We,Ve,$e,da,Ea,pa,qe,Ye,Be,Ge,Qe,He,Ke,je,ze,Xe,Je,Ze].includes(x.data.error)?{name:x.data.error}:{name:"DefaultError"}})}function _a(r){return yr(r)?r:Dr(r,"yyyy-MM-dd",new Date)}const fa=13,Ra=r=>{const t=_a(r);if(!Pr(t))throw new Error("Invalid Date");const s=new Date;return Tr(s,t)>=fa},E={DEFAULT_ERROR:"defaut",EMAIL_INVALID:"emailInvalid",PASSWORD_REQUIRED:"passwordRequired",PASSWORD_INVALID:"passwordInvalid",PASSWORD_SMALL:"passwordSmall",WEAK_PASSWORD:"weakPassword",CONFIRM_PASSWORD_REQUIRED:"confirmPasswordRequired",FIRST_NAME_REQUIRED:"firstNameRequired",LAST_NAME_REQUIRED:"lastNameRequired",DATE_OF_BIRTH_REQUIRED:"dateOfBirthRequired",DATE_OF_BIRTH_UNDER_THIRTEEN:"dateOfBirthUnderThirteen",AGREE_PRIVACY_REQUIRED:"agreePrivacyRequired",AGREE_TERMS_REQUIRED:"agreeTermsRequired",USER_EXISTS:"userExists",PASSWORDS_DO_NOT_MATCH:"passwordsDoNotMatch"},ga=8;function Ia(){const{versionNumber:r}=R("privacyPolicy"),{versionNumber:t}=R("termsAndConditions"),s=O(),a=q();return X({initialValues:{firstName:"",lastName:"",birthday:"",email:a.get("login_hint")||"",password:"",confirmPassword:"",agreeTerms:!1,agreePrivacy:!1,termsVersion:t,privacyVersion:r,country:"US",language:"en"},recaptchaAction:"signup",onSubmit:async(n,o)=>{const i=[];n.firstName||i.push(E.FIRST_NAME_REQUIRED),n.lastName||i.push(E.LAST_NAME_REQUIRED),G(n.email)||i.push(E.EMAIL_INVALID),n.birthday||i.push(E.DATE_OF_BIRTH_REQUIRED);try{Ra(n.birthday)||i.push(E.DATE_OF_BIRTH_UNDER_THIRTEEN)}catch{i.push(E.DATE_OF_BIRTH_REQUIRED)}if(n.password||i.push(E.PASSWORD_REQUIRED),n.password.length<ga&&i.push(E.PASSWORD_SMALL),n.confirmPassword||i.push(E.CONFIRM_PASSWORD_REQUIRED),n.confirmPassword!==n.password&&i.push(E.PASSWORDS_DO_NOT_MATCH),n.agreePrivacy||i.push(E.AGREE_PRIVACY_REQUIRED),n.agreeTerms||i.push(E.AGREE_TERMS_REQUIRED),i.length)throw i;ne({component:"Create Account Form",event:"Create Account Button Clicked",location:window.location.href,title:"SSO Frontend"});try{const l=await wa(T(p({},n),{recaptchaToken:o}),s.search);window.location.assign(l.redirectUri)}catch(l){throw l.name===Ke?[E.PASSWORD_REQUIRED]:l.name===ze?[E.WEAK_PASSWORD]:l.name===je?[E.PASSWORD_INVALID]:l.name===ha?[E.PASSWORD_SMALL]:l.name==E.PASSWORDS_DO_NOT_MATCH?[E.PASSWORDS_DO_NOT_MATCH]:l.name===Je||l.name===Xe?[E.DATE_OF_BIRTH_REQUIRED]:l.name===We?[E.AGREE_PRIVACY_REQUIRED,E.AGREE_TERMS_REQUIRED]:l.name===$e?[E.AGREE_PRIVACY_REQUIRED]:l.name===Ve?[E.AGREE_TERMS_REQUIRED]:l.name===Ze?[E.USER_EXISTS]:l.name===He||l.name===Qe?[E.EMAIL_INVALID]:l.name===qe||l.name===Ye?[E.FIRST_NAME_REQUIRED]:l.name===Be||l.name===Ge?[E.LAST_NAME_REQUIRED]:[E.DEFAULT_ERROR]}}})}const Aa="_wrapper_qmju7_1",Sa="_primary-button_qmju7_6",Pa="_agreement_qmju7_11";var me={wrapper:Aa,primaryButton:Sa,agreement:Pa};function er({title:r,agreement:t,agreeButton:s,error:a,versionNumber:n,onAgree:o,showError:i}){return k(`${r} - CrossFit`),e.createElement(U,{className:me.wrapper},e.createElement(F,{size:"large",mb:6,as:"h2"},r),i&&e.createElement(m,null,a),e.createElement("div",{className:me.agreement,dangerouslySetInnerHTML:{__html:t}}),e.createElement(M,{className:me.primaryButton,onClick:()=>o(n)},s))}function rr(r){const t=R("privacyPolicy");return e.createElement(er,p(p({},t),r))}function tr(r){const t=R("termsAndConditions");return e.createElement(er,p(p({},t),r))}function Ta(){const r=O(),[t,s]=h.exports.useState(!1),[a,n]=h.exports.useState(!1),o=R("createAccountForm"),i=Ia();k(`${o.title} - CrossFit`);function l(){s(!0)}function d(){s(!1),i.onChangeField({value:!0,name:"agreePrivacy"})}function f(){n(!0)}function c(){n(!1),i.onChangeField({value:!0,name:"agreeTerms"})}return t?e.createElement(rr,{onAgree:d}):a?e.createElement(tr,{onAgree:c}):e.createElement(U,null,e.createElement(F,{size:"large",mb:6,as:"h2"},o.title),e.createElement(ia,{onShowTermsAndConditions:f,onShowPrivacyPolicy:l,form:i}),e.createElement(ye,null,o.alreadyHaveAccount," ",e.createElement(re,{to:{pathname:"/",search:r.search}},e.createElement(Z,{as:"span"},o.loginLink))))}const ya="_wrapper_ls33y_1",Da="_primary-button_ls33y_5";var ar={wrapper:ya,primaryButton:Da};function Na(){const r=R("confirmEmailPage");return k(`${r.failureTitle} - CrossFit`),e.createElement(U,{className:ar.wrapper},e.createElement(F,{size:"large",mb:6,as:"h2"},r.failureTitle),e.createElement(P,null,r.failure),e.createElement(M,{className:ar.primaryButton,as:"a"},r.profileLink))}function va(){const r=R("confirmEmailPage");return e.createElement(z,null,e.createElement(P,null,r.success))}const ba="https://c3po.crossfit.com/api/users/v2";async function Ca(r){const{verificationToken:t}=r;return V(`${ba}/auth/email_verify`,{verification_token:t})}function La(){const r=R("confirmEmailPage");k(`${r.title} - CrossFit`);const t=K(),a=q().get("token")||void 0;return h.exports.useEffect(()=>{a?Ca({verificationToken:a}).then(()=>{t.push({pathname:"/confirm-email/success"})}).catch(()=>{t.push({pathname:"/confirm-email/failure"})}):t.push({pathname:"/confirm-email/failure"})},[a]),e.createElement(U,null,e.createElement(F,{size:"large",mb:6,as:"h2"},r.title),e.createElement(pe,{"data-testid":"loader"}))}function Oa(){const r=R("changeEmailPage");return e.createElement(z,null,e.createElement(P,null,r.success))}const Fa="https://c3po.crossfit.com/api/users/v2",ka="CREDENTIALS_INVALID",sr="NEW_EMAIL_INVALID",nr="NEW_EMAIL_EXISTS";async function Ua(r){const{email:t,newEmail:s,password:a,recaptchaToken:n}=r;return V(`${Fa}/auth/email_change`,{email:t,new_email:s,password:a,recaptcha_token:n}).catch(o=>{throw[sr,nr,ka].includes(o.data.error)?{name:o.data.error}:{name:"DefaultError"}})}const H={DEFAULT_ERROR:"defaut",PASSWORD_REQUIRED:"passwordRequired",EMAIL_INVALID:"emailInvalid",NEW_EMAIL_INVALID:"newEmailInvalid",NEW_EMAIL_EXISTS:"newEmailExists"};function Ma({email:r=""}){const t=K();return X({initialValues:{email:r,newEmail:"",password:""},recaptchaAction:"email_change",onSubmit:async(s,a)=>{const n=[];if(G(s.email)||n.push(H.EMAIL_INVALID),G(s.newEmail)||n.push(H.NEW_EMAIL_INVALID),s.password||n.push(H.PASSWORD_REQUIRED),n.length)throw n;try{await Ua(T(p({},s),{recaptchaToken:a})),t.push({pathname:"/change-email/success"})}catch(o){throw o.name===nr?[H.NEW_EMAIL_EXISTS]:o.name===sr?[H.NEW_EMAIL_INVALID]:[H.DEFAULT_ERROR]}}})}const xa="_text_1robz_1";var or={text:xa};function Wa({email:r}){const t=R("changeEmailForm"),{values:s,onChangeInput:a,onSubmit:n,isLoading:o,errors:i}=Ma({email:r});return e.createElement(Q,{onSubmit:n,isLoading:o},r?e.createElement(P,{className:or.text},t.currentEmailIs," ",e.createElement("strong",null,r)):e.createElement(_,null,e.createElement(g,{htmlFor:"email",mb:2},t.currentEmailLabel),e.createElement(A,{id:"email",type:"email",name:"email",onChange:a,value:s.email,autoComplete:"email",isInvalid:i.emailInvalid}),i.emailInvalid&&e.createElement(m,null,t.errors.emailInvalid)),e.createElement(P,{className:or.text},t.instructions),i.defaut&&e.createElement(C,null,t.errors.default),e.createElement(_,null,e.createElement(g,{htmlFor:"newEmail",mb:2},t.newEmailLabel),e.createElement(A,{id:"newEmail",type:"email",name:"newEmail",onChange:a,value:s.newEmail,autoComplete:"email",isInvalid:i.newEmailInvalid}),i.newEmailInvalid&&e.createElement(m,null,t.errors.newEmailInvalid),i.newEmailExists&&e.createElement(m,null,t.errors.newEmailExists)),e.createElement(_,null,e.createElement(g,{htmlFor:"password",mb:2},t.passwordLabel),e.createElement(A,{id:"password",name:"password",onChange:a,value:s.password,type:"password",autoComplete:"password",isInvalid:i.passwordRequired}),i.passwordRequired&&e.createElement(m,null,t.errors.passwordRequired)),e.createElement(M,{type:"submit"},t.submitButton))}function Va(){var n,o;const r=R("changeEmailPage");k(`${r.title} - CrossFit`);const t=q(),s=(n=t.get("email"))!=null?n:void 0,a=(o=t.get("return_to"))!=null?o:void 0;return Pe(a),Te(),e.createElement(U,null,e.createElement(F,{size:"large",mb:6,as:"h2"},r.title),e.createElement(Wa,{email:s}))}const $a="https://www.crossfit.com/sso/login",ir="react",qa="password";async function Ya(r){return V($a,T(p({},r),{client_secret:ir,client_id:ir,grant_type:qa}))}const Ba="https://c3po.crossfit.com/api/users/v2",cr="USER_TERMS_AND_PRIVACY_VERSION_OUTDATED",lr="USER_TERMS_VERSION_OUTDATED",mr="USER_PRIVACY_VERSION_OUTDATED",ur="TERMS_AND_PRIVACY_VERSION_OUTDATED",dr="TERMS_VERSION_OUTDATED",Er="PRIVACY_VERSION_OUTDATED",pr="INTEGRATION_ERROR";async function Ga(r,t){const{email:s,password:a,recaptchaToken:n,rememberMe:o,agreePrivacy:i,agreeTerms:l,privacyVersion:d,termsVersion:f,country:c,language:w}=r;return V(`${Ba}/auth/signin${t}`,{email:s,password:a,recaptcha_token:n,remember_me:o,agree_privacy:i,agree_terms:l,privacy_version:d?parseFloat(d):void 0,terms_version:f?parseFloat(f):void 0,country:c,language:w}).then(async u=>{if(u.internalBrowserClient)try{await Ya({username:s,password:a,remember_me:o})}catch{}return u}).catch(u=>{throw[cr,lr,mr,ur,dr,Er].includes(u.data.error)?{name:u.data.error}:u.data.title==="Bad Request"?{name:pr}:{name:"DefaultError"}})}const $={DEFAULT_ERROR:"defaut",INTEGRATION_ERROR:"integration",EMAIL_INVALID:"emailInvalid",PASSWORD_REQUIRED:"passwordRequired",TERMS_REQUIRED:"termsRequired",PRIVACY_REQUIRED:"privacyRequired"};function Qa(){const[r,t]=h.exports.useState(!1),s=O(),a=q(),i=X({initialValues:{email:a.get("login_hint")||"",password:"",rememberMe:!0,country:"US",language:"en"},recaptchaAction:"signin",onSubmit:async(l,d)=>{const f=[];if(G(l.email)||f.push($.EMAIL_INVALID),l.password||f.push($.PASSWORD_REQUIRED),f.length)throw f;ne({component:"Login Page",event:"Login Button Clicked",location:window.location.href,title:"SSO Frontend"});try{const c=await Ga(T(p({},l),{recaptchaToken:d}),s.search);window.location.assign(c.redirectUri)}catch(c){throw c.name===cr||c.name===ur?(t(!0),[$.PRIVACY_REQUIRED,$.TERMS_REQUIRED]):c.name===lr||c.name===dr?(t(!0),[$.TERMS_REQUIRED]):c.name===mr||c.name===Er?(t(!0),[$.PRIVACY_REQUIRED]):c.name===pr?[$.INTEGRATION_ERROR]:[$.DEFAULT_ERROR]}}}),{hasErrors:n}=i,o=y(i,["hasErrors"]);return h.exports.useEffect(()=>{!n&&r&&(t(!1),o.submit())},[r,n]),o}const Ha="_checkbox-field-group_18p18_1",Ka="_link_18p18_5",ja="_password-note_18p18_12",za="_password-error-text_18p18_19";var oe={checkboxFieldGroup:Ha,link:Ka,passwordNote:ja,passwordErrorText:za};function Xa(){const r=O(),t=R("loginForm");k(`${t.title} - CrossFit`);const{values:s,onChangeInput:a,onChangeCheckbox:n,onSubmit:o,isLoading:i,errors:l,onChangeField:d,clearError:f}=Qa();function c(u){d({name:"agreeTerms",value:!0}),d({name:"termsVersion",value:u}),f("termsRequired")}function w(u){d({name:"agreePrivacy",value:!0}),d({name:"privacyVersion",value:u}),f("privacyRequired")}return l.privacyRequired&&!s.agreePrivacy?e.createElement(rr,{showError:!0,onAgree:w}):l.termsRequired&&!s.agreeTerms?e.createElement(tr,{showError:!0,onAgree:c}):e.createElement(U,null,e.createElement(F,{size:"large",mb:6,as:"h2"},t.title),e.createElement(Q,{onSubmit:o,isLoading:i},l.integration&&e.createElement(C,null,t.errors.integration),l.defaut&&e.createElement(C,null,t.errors.default),e.createElement(_,null,e.createElement(g,{htmlFor:"email",mb:2},t.emailLabel),e.createElement(A,{id:"email",type:"email",name:"email",onChange:a,value:s.email,isInvalid:l.emailInvalid,autoComplete:"email"}),l.emailInvalid&&e.createElement(m,null,t.errors.emailInvalid)),e.createElement(_,null,e.createElement(g,{htmlFor:"password",mb:2},t.passwordLabel),e.createElement(A,{id:"password",name:"password",onChange:a,value:s.password,type:"password",isInvalid:l.passwordRequired,autoComplete:"current-password"}),e.createElement("div",{className:oe.passwordNote},l.passwordRequired&&e.createElement(m,{className:oe.passwordErrorText},t.errors.passwordRequired),e.createElement(Z,{as:"div",className:oe.link},e.createElement(re,{to:{pathname:"forgot-password",search:r.search}},t.forgotPasswordLink)))),e.createElement(_,{direction:"horizontal",spacing:2,className:oe.checkboxFieldGroup},e.createElement(j,{id:"rememberMe",name:"rememberMe",onChange:n,checked:s.rememberMe}),e.createElement(J,{htmlFor:"rememberMe"},t.keepLoggedIn)),e.createElement(M,{type:"submit"},t.submitButton)),e.createElement(ye,null,t.newToCrossfit," ",e.createElement(Z,{as:"span"},e.createElement(re,{to:{pathname:"create-account",search:r.search}},t.createAccountLink))))}const hr=["redirect_uri","client_id","response_type"],Ja=r=>{const t=Za(r),s=Object.keys(t);return s.length===0?!1:hr.every(a=>s.includes(a))},Za=r=>{const t=new URLSearchParams(r);return hr.reduce((a,n)=>{const o=t.get(n);return o&&(a[n]=o),a},{})},es="https://www.crossfit.com/redirect?initiate-login=1",rs=!1,ts=({children:r})=>{const t=O();return h.exports.useEffect(()=>{!Ja(t.search)&&!window.Cypress&&!rs&&window.location.replace(es)},[t.search]),e.createElement(e.Fragment,null,r)},as="_wrapper_jyida_1";var ss={wrapper:as};function ns(){return e.createElement("div",{className:ss.wrapper},e.createElement(Xr,null),e.createElement(we,null,e.createElement(v,{path:"/change-email/success",component:Oa}),e.createElement(v,{path:"/change-email",component:Va}),e.createElement(v,{path:"/change-password/success",component:$t}),e.createElement(v,{path:"/change-password",component:jt}),e.createElement(v,{path:"/forgot-password/sent",component:ut}),e.createElement(v,{path:"/forgot-password/success",component:mt}),e.createElement(v,{path:"/forgot-password",component:Vt}),e.createElement(v,{path:"/confirm-email/failure",component:Na}),e.createElement(v,{path:"/confirm-email/success",component:va}),e.createElement(v,{path:"/confirm-email",component:La}),e.createElement(ts,null,e.createElement(we,null,e.createElement(v,{path:"/create-account",component:Ta}),e.createElement(v,{path:"/",component:Xa})))))}window.Cypress&&kr(()=>import("./browser.467dbc2c.js"),["1.3.4/browser.467dbc2c.js","1.3.4/vendor.408969fd.js"]).then(({worker:r})=>{r.start()});const os="6LfjZmEbAAAAABWKtOQ72_DlRgZAJWgrpUsKNKg6",is="https://bbc4b3439c814a21aec4ae09234b40dd@o218583.ingest.sentry.io/5828944",cs="prod";Nr({dsn:is,environment:cs,release:"1.3.4"});const ls=()=>{const r=O();return h.exports.useEffect(()=>{analytics.page()},[r]),e.createElement(e.Fragment,null)};vr.render(e.createElement(e.StrictMode,null,e.createElement(br,null,e.createElement(ls,null),e.createElement(Hr,null,e.createElement(Cr,{reCaptchaKey:os},e.createElement(ns,null))))),document.getElementById("app"));export{cr as U};
